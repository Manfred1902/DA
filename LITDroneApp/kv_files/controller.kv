#:kivy 1.1.1
#: import utils kivy.utils
<ControllerScreen>:
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#303030")
        Rectangle:
            size: self.size
            pos: self.pos

    MDFloatLayout:
        MDTopAppBar:
            title: "Controller"
            left_action_items: [["arrow-left", lambda x: app.change_screen("home_screen"), "This is the navigation"]]
            pos_hint: {"top": 1, "right": 1}
        
        MDFloatLayout:
            Image:
                id: video_stream
                size_hint: None, None
                size: 600, 500
                pos_hint: {"center_x": 0.5, "center_y": 0.55}
                # allow_stretch: True
                fit_mode: "fill"

            MDRaisedButton:
                id: toggle_videostream
                text: "Open Video Stream"
                size_hint: None, None
                size: 100, 50
                pos_hint: {"center_x": 0.6, "center_y": 0.8}
                on_press: app.tello.toggle_video()

            MDRaisedButton:
                id: save_picture
                text: "Save Picture"
                size_hint: None, None
                size: 100, 50
                pos_hint: {"center_x": 0.85, "center_y": 0.8}
                on_press: app.tello.save_image()

            MDRaisedButton:
                id: save_drone_data
                text: "Save Drone Data"
                size_hint: None, None
                size: 100, 50
                pos_hint: {"center_x": 0.15, "center_y": 0.8}
                on_press: app.tello.save_drone_data()

            MDRaisedButton:
                id: record_video
                text: "Record Video"
                size_hint: None, None
                size: 100, 50
                pos_hint: {"center_x": 0.4, "center_y": 0.8}
                on_press: app.tello.record_video()


            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.45 , "right": 0.85}
                text: 'Start'
                on_press: root.start(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.15 , "right": 0.85}
                text: 'Land'
                on_press: root.land(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.45 , "right":0.55}
                text: 'Up'
                on_press: root.up(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.15 , "right":0.55}
                text: 'Down'
                on_press: root.down(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.3 , "right":0.2}
                text: 'Left'
                on_press: root.left(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.3 , "right":0.55}
                text: 'Right'
                on_press: root.right(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.45 , "right":0.375}
                text: 'Forward'
                on_press: root.forward(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.15 , "right":0.375}
                text: 'Backward'
                on_press: root.backward(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.3 , "right":0.75}
                text: 'Rotate Left'
                on_press: root.rotateLeft(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.3 , "right": 0.95}
                text: 'Rotate Right'
                on_press: root.rotateRight(self)
            MDRaisedButton:
                size_hint: 0.15,0.1
                pos_hint: {"top": 0.45 , "right": 0.2}
                text: 'Connect'
                on_press: root.connect(self)
            MDRaisedButton:
                id: quitBtn
                text: 'Quit'
                md_bg_color: [0.6, 0.6, 0.6, 1]
                elevation: 4.5
                on_press: root.quit()