#:kivy 1.1.1
#: import utils kivy.utils

<HomeScreen>:
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#303030")
        Rectangle:
            size: self.size
            pos: self.pos


    MDFloatLayout:
        MDTopAppBar:
            title: "Auto Commands"
            left_action_items: [["menu", lambda x: app.change_screen("home_screen"), "This is the navigation"]]
            pos_hint: {"top": 1, "right": 1}
            right_action_items:
                [["dots-vertical", lambda x: app.change_screen("controller_screen"), "Switch to Controller"]]

        MDLabel:
            text: "[b]Hello[/b]"
            size_hint: 0.8,0.1
            pos_hint: {"top": 0.8 , "right":0.9}
            markup: True

        MDLabel:
            id: passing_email
            size_hint: 0.8,0.1
            pos_hint: {"top": 0.75 , "right":0.9}
            markup: True

        MDRoundFlatButton:
            id: automatic_page
            size_hint_x: 0.5
            set_size: 0.1
            pos_hint: {"center_x": 0.25, "center_y": 0.8}
            color: utils.get_color_from_hex("#448AFFFF")
            text: "[b]Auto Commands[/b]"
            halign: "center"
            markup: True
            on_press: root.manager.current="home_screen"

        MDRoundFlatButton:
            id: controller_page
            size_hint_x: 0.5
            pos_hint: {"center_x": 0.7, "center_y": 0.9}
            color: utils.get_color_from_hex("#448AFFFF")
            text: "[b]Controller[/b]"
            halign: "center"
            markup: True
            on_press: root.manager.current="controller_screen"

        MDRoundFlatButton:
            id: homescreen_exp
            size_hint_x: 0.5
            pos_hint: {"center_x": 0.6, "center_y": 0.8}
            color: utils.get_color_from_hex("#448AFFFF")
            text: "[b]Homescreen Exp[/b]"
            halign: "center"
            markup: True
            on_press: root.manager.current="homescreen_exp"
            
        MDBoxLayout:
            orientation: "vertical"
            pos_hint: {"center_x": 1.2, "center_y": 0.5}
            size_hint_y: None
            height: self.minimum_height
        
            MDRoundFlatButton:
                id: connect_drone_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Connect to Drone[/b]"
                halign: "center"
                markup: True
                on_press: root.conntect_to_drone(self)

            MDRoundFlatButton:
                id: takeoff_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Takeoff[/b]"
                halign: "center"
                markup: True
                on_press: root.takeoff(self)

            MDRoundFlatButton:
                id: rotation_test_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Rotation Test[/b]"
                halign: "center"
                markup: True
                on_press: root.rotate(self)

            MDRoundFlatButton:
                id: diagonal_flight_test_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Diagonal Flight Test[/b]"
                halign: "center"
                markup: True
                on_press: root.diagonal_flight_test_btn(self)

            MDRoundFlatButton:
                id: coordination_flight_test_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Coordination Flight Test[/b]"
                halign: "center"
                markup: True
                on_press: root.coordination_flight_test(self)

            MDRoundFlatButton:
                id: front_flip_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Front Flip[/b]"
                halign: "center"
                markup: True
                on_press: root.front_flip(self)

            MDRoundFlatButton:
                id: back_flip_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Back Flip[/b]"
                halign: "center"
                markup: True
                on_press: root.front_flip(self)

            MDRoundFlatButton:
                id: right_flip_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Right Flip[/b]"
                halign: "center"
                markup: True
                on_press: root.right_flip(self)

            MDRoundFlatButton:
                id: left_flip_btn
                background_color: (1, 1, 0, 1)
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.2
                color: utils.get_color_from_hex("#448AFFFF")
                text: "[b]Left Flip[/b]"
                halign: "center"
                markup: True
                on_press: root.left_flip(self)

        MDBoxLayout:
            orientation: "horizontal"
            pos_hint: {"left": 0.2, "top": 0.3}
            size_hint_y: None
            height: self.minimum_height

            MDIconButton:
                id: settings_btn
                icon: "cog"
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.1
                font_size: 20
                halign: "center"
                markup: True
                on_press: root.manager.current="settings_screen"

            MDIconButton:
                id: logout_btn
                icon: "logout"
                size_hint_x: None
                size_hint_y: None
                width: root.width*0.1
                font_size: 20
                halign: "center"
                markup: True
                on_press: root.manager.current="login_screen"