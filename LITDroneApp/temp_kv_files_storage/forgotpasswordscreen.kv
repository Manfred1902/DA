#:kivy 1.1.1
#: import utils kivy.utils

<ForgotPasswordScreen>:
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#303030")
        Rectangle:
            size: self.size
            pos: self.pos

    MDFloatLayout:
        Image:
            source: "./assets/logo.png"
            pos_hint: {"top": 1 , "left": 1}
            size_hint: 1,0.2

        MDLabel:
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.8}
            markup: True
            halign: 'center'
            id: forgot_message

        MDLabel:
            text: "[u][b]Trouble Logging in?[/b][/u]"
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            halign: 'center'
            markup: True

        MDLabel:
            text: "[b]Enter your email and we'll \n send you a link to get back into your \n account[/b]"
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            markup: True
            halign: 'center'
            color: utils.get_color_from_hex("#808080")

        MDTextField:
            id: forgot_email
            hint_text: "Email"
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            multiline: False
            max_text_length: 50

        LabelButton:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#448AFFFF")
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "Change Password"
            color: (0,0,0,1)
            size_hint_x: 0.5
            size_hint_y: 0.08
            halign: 'center'
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            on_release:
                app.db.changePassword(forgot_email.text.strip())

        LabelButton:
            text: "[b]Back[/b]"
            markup: True
            color: utils.get_color_from_hex("#448AFFFF")
            size_hint_x: 0.8
            halign: 'center'
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_release:
                app.change_screen("login_screen")