#: import utils kivy.utils

<SignUpScreen>:
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#303030")
        Rectangle:
            size: self.size
            pos: self.pos

    MDFloatLayout:
        Image:
            source: "./assets/logo.png"
            pos_hint: {"top": 1 , "left": 1}
            size_hint: 1,0.2

        MDLabel:
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.75}
            markup: True
            id: signup_message
            color: (1,0,0,1)
            halign: "center"

        MDTextField:
            id: signup_email
            hint_text: "Email Address"
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            multiline: False
            icon_left: "email"
            max_text_length: 50

        MDTextField:
            id: signup_password_1
            hint_text: "Password"
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            multiline: False
            password: True
            icon_left: "key-variant"
            max_text_length: 20

        MDTextField:
            id: signup_password_2
            hint_text: "Repeat Password"
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            multiline: False
            password: True
            icon_left: "repeat"
            max_text_length: 20

        LabelButton:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#448AFFFF")
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "Sign Up"
            color: (0,0,0,1)
            halign: "center"
            size_hint_x: 0.5
            size_hint_y: 0.08
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            on_release:
                app.db.signup(signup_email.text.strip(), signup_password_1.text.strip(), signup_password_2.text.strip())

        MDLabel:
            text: "[b]Already have a account?[/b]"
            markup: True
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            halign: "center"

        LabelButton:
            text: "[b][u]Log In[/u][/b]"
            markup: True
            size_hint_x: 0.8
            pos_hint: {"center_x": 0.5, "center_y": 0.25}
            color: utils.get_color_from_hex("#448AFFFF")
            halign: "center"
            on_release:
                app.change_screen("login_screen")